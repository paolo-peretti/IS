<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <!-- Bootstrap CSS -->
    <title>IS</title>


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">




    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>


    <style>

    label{
    font-weight: 600;
    }
    .custom-control{
    font-weight: normal;
    }
    .dropdown-toggle{
    padding-left: 10px;
    border-radius: 0px !important;
    }
    .dropdown.dropdown-lg .dropdown-menu {
    padding: 15px;
    }
    .input-group .form-control{
    width: 70%;
    border-radius: 0.25rem !important;
    }
    .dropdown.dropdown-lg .dropdown-menu{
    min-width: 320px;
    }
    .dropdown-menu{
    box-shadow: 1px 4px 8px -1px #c1c1c1;
    }

    #search{
    width: 30%;
    margin-left: 35%;
    margin-righ: 25%;
    }

    body {
    background-color: #00838F
    }

    .advanced {
        text-decoration: none;
        font-size: 15px;
        font-weight: 500
    }

    .btn-secondary,
    .btn-secondary:focus,
    .btn-secondary:active {
        color: #fff;
        background-color: #00838f !important;
        border-color: #00838f !important;
        box-shadow: none
    }

    .advanced {
        color: #00838f !important
    }

    .form-control:focus {
        box-shadow: none;
        border: 1px solid #00838f
    }


    </style>
    </head>




  <body style="background: #F4E2C6;">

<!-- NAVBAR-->
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">IS</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#">Home</a>
        </li>




          {% if usr != undefined %}
            <li class="nav-item">
              <a class="nav-link" href="#">{{usr}}</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/logout">Log out</a>
            </li>
          {% endif %}
          {% if usr == undefined %}
            <li class="nav-item">
              <a class="nav-link" href="/login">Sign In</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/register">Sign Up</a>
            </li>
          {% endif %}





      </ul>
    </div>
  </div>
</nav>



    <h1 style="color:black;
    font-size:63px;
    text-align:center;
    display:inline-block;
    position:relative;
    width:100%; margin-top: 30px;">IS</h1>


<!--Accordion-->

{% block content %}
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      {% for msg in messages %}
        <p>{{msg}}</p>
      {% endfor %}
    {% endif %}
  {% endwith %}
{% endblock %}




<form action="#" method="post">
<div class="container mt-5">
    <div class="row d-flex justify-content-center">
        <div class="col-md-10">
            <div class="card p-3 py-4">
                <h5>An Easier way to find your Housing</h5>
                <div class="row g-3 mt-2">
                    <div class="col-md-3">

                    </div>

                    <div class="col-md-6">
                      <select class="form-select" aria-label="Default select example" name="district">
                        <option selected>search for a district</option>
                        {% for district in all_districts %}
                          <option>{{district}}</option>
                        {% endfor %}
                      </select>
<!--                      <input type="text" class="form-control" placeholder="Enter address e.g. street, city and state or zip"> -->
                    </div>
                    <div class="col-md-3"> <button class="btn btn-secondary btn-block">Search Results</button> </div>
                </div>
                <div class="mt-3"> <a data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample" class="advanced"> Advance Search With Filters <i class="fa fa-angle-down"></i> </a>

                  <div class="collapse" id="collapseExample">

                        <div class="card card-body">

                            <div class="row">

                              <div class="col-md-4">

                              <label>Price Range:</label>
                                <div class="min-max">
                                 <div class="min">
                                     <label>Min</label><span id="min-value"></span>
                                   <input type="number" name="min_price" min='0' max="5000" step="1" placeholder='0'>
                                 </div>
                                 <div class="max">
                                     <label>Max</label><span id="max-value"></span>
                                   <input type="number" name="max_price" min="1" max="5000" step="1" placeholder="5000">
                                 </div>
                                </div>

                              </div>

                              <div class="col-md-4">
                                <label>Type of house:</label>
                                <select class="form-select" aria-label="Default select example" name="type_room">
                                    <option selected>room</option>
                                  <option>double room</option>
                                  <option>apartment</option>

                              </select>

                              </div>

                              <div class="col-md-4">

                                <label>Furnished ?</label>
                                <div>
                                <input type="radio" id="huey" name="furnished" value="yes">
                                <label for="huey">Yes</label>
                              </div>

                              <div>
                                <input type="radio" id="dewey" name="furnished" value="no">
                                <label for="dewey">No</label>
                              </div>

                              </div>


                            </div>


                          <div class="row" style="margin-top: 30px;">


                                <div class="col-md-4">
                                  <label>Bathroom</label>
                                  <div>
                                    <input type="radio" id="bat1" name="bathroom" value="private bathroom">
                                    <label for="bat1">private bathroom</label>
                                  </div>

                                  <div>
                                    <input type="radio" id="bat2" name="bathroom" value="shared bathroom">
                                    <label for="bat2">shared bathroom</label>
                                  </div>


                                </div>



                                <div class="col-md-4">

                                  <label>Features</label>

                                  <div>
                                  <input type="checkbox" id="dishwasher" name="dishwasher">
                                    <label for="dishwasher">dishwasher</label>
                                  </div>

                                  <div>
                                    <input type="checkbox" id="lift" name="lift">
                                    <label for="lift">lift</label>
                                  </div>
                                  <div>
                                  <input type="checkbox" id="washing machine" name="washing machine">
                                    <label for="washing machine">washing machine</label>
                                  </div>

                                  <div>
                                    <input type="checkbox" id="parking area" name="parking area">
                                    <label for="parking area">parking area</label>
                                  </div>




                                </div>



                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
</form>
<div style="margin-top:35px"></div>







<div id="search-box" style="margin-top:20px;margin-left:10%;margin-right:10%;margin-bottom:20px;background:#f4f2f4;">

    {% if items != undefined %}

        <div style="padding:0.1%;">
    {% if items != [] %}
        {% for item in items %}

        <hr>

        <div class="row" style="margin-bottom:30px;margin-top:30px;width:80%;margin-left:10%;margin-right:10%;">


            <div class="col-md-4" >
                <img src={{ item[1] }} alt="Image of the house">

                </div>

            <div class="col-xl" style="margin-left:10%;">

                <h4>District : {{ item[0][2] }}</h4>

                <h5>Address : {{ item[0][1] }}</h5>

                <h5>Price : {{ item[0][4] }} €</h5>


                <h5>Features :</h5>
                <p>{{ item[0][5] }}</p>

                </div>

            <div class="col-sm" >

<!--                sending a message requires the id of the owner-->

                <a href="{{ url_for('send_message',id_owner=item[0][6]) }}"  class="btn btn-primary" style="margin-top:30%;margin-left:30%;">Contact Owner</a>


                </div>

        </div>
        <hr>

        <div></div>



        {% endfor %}
    {% else %}
    <div style="margin-right: 20%;margin-left:20%;color:red;">
        <h3 >No results match the requirements you are looking for!</h3>
    </div>
    {% endif %}

    </div>

    {% endif %}

    </div>





    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>



  </body>
</html>
